{
  "input": {
    "session_id": "har-session-3-mgkehiwd",
    "service_name": "wom-fun",
    "ability_id": "get-supabase-vtnzhqawildiecaasapv-featured-spots",
    "ability_name": "get_supabase_vtnzhqawildiecaasapv_featured_spots",
    "description": "Retrieve featured spots from WOM's Supabase database. Use to get active featured tokens for display. Query parameters allow filtering by active status, featured_until date, and ordering by spot_position. Example: is_active='eq.true', or='(featured_until.gt.2025-10-10T01:24:23.777Z,spot_position.is.null)', order='spot_position.asc', select='*'. Returns array of featured token records.",
    "wrapper_code": "export async function wrapper(payload, options) {\n  options = options || {};\n\n  const baseUrl = options.baseUrl || 'https://vtnzhqawildiecaasapv.supabase.co';\n  const url = new URL('/rest/v1/featured_spots', baseUrl);\n\n  if (payload.select !== undefined) {\n    url.searchParams.set('select', payload.select);\n  }\n  if (payload.is_active !== undefined) {\n    url.searchParams.set('is_active', payload.is_active);\n  }\n  if (payload.or !== undefined) {\n    url.searchParams.set('or', payload.or);\n  }\n  if (payload.order !== undefined) {\n    url.searchParams.set('order', payload.order);\n  }\n  if (payload.featured_until !== undefined) {\n    url.searchParams.set('featured_until', payload.featured_until);\n  }\n  if (payload.spot_position !== undefined) {\n    url.searchParams.set('spot_position', payload.spot_position);\n  }\n\n  const headers = {\n    'accept': '*/*',\n    'accept-language': 'en-US,en;q=0.5',\n    'accept-profile': 'public',\n    'origin': 'https://www.wom.fun',\n    'priority': 'u=4',\n    'referer': 'https://www.wom.fun/',\n    'sec-fetch-dest': 'empty',\n    'sec-fetch-mode': 'cors',\n    'sec-fetch-site': 'cross-site',\n    'sec-gpc': '1',\n    'te': 'trailers',\n    'user-agent': 'Mozilla/5.0 (Macintosh; Kim Olson Jr. OS X 10.15; rv:143.0) Gecko/[BANK_ACCOUNT] Firefox/143.0',\n    'x-client-info': 'supabase-js-web/2.51.0',\n    ... (options.dynamicHeaders || {})\n  };\n\n  const response = await fetch(url.toString(), { method: 'GET', headers });\n  if (!response.ok) {\n    throw new Error('Request failed: ' + response.status + ' ' + response.statusText);\n  }\n  return response;\n}\n\nexport const DYNAMIC_HEADER_KEYS = ['vtnzhqawildiecaasapv.supabase.co::apikey', 'vtnzhqawildiecaasapv.supabase.co::authorization'];\n\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = { wrapper, DYNAMIC_HEADER_KEYS };\n}",
    "static_headers": [
      {
        "key": "vtnzhqawildiecaasapv.supabase.co::accept",
        "value_code": "() => \"*/*\""
      },
      {
        "key": "vtnzhqawildiecaasapv.supabase.co::accept-language",
        "value_code": "() => \"en-US,en;q=0.5\""
      },
      {
        "key": "vtnzhqawildiecaasapv.supabase.co::accept-profile",
        "value_code": "() => \"public\""
      },
      {
        "key": "vtnzhqawildiecaasapv.supabase.co::origin",
        "value_code": "() => \"https://www.wom.fun\""
      },
      {
        "key": "vtnzhqawildiecaasapv.supabase.co::priority",
        "value_code": "() => \"u=4\""
      },
      {
        "key": "vtnzhqawildiecaasapv.supabase.co::referer",
        "value_code": "() => \"https://www.wom.fun/\""
      },
      {
        "key": "vtnzhqawildiecaasapv.supabase.co::sec-fetch-dest",
        "value_code": "() => \"empty\""
      },
      {
        "key": "vtnzhqawildiecaasapv.supabase.co::sec-fetch-mode",
        "value_code": "() => \"cors\""
      },
      {
        "key": "vtnzhqawildiecaasapv.supabase.co::sec-fetch-site",
        "value_code": "() => \"cross-site\""
      },
      {
        "key": "vtnzhqawildiecaasapv.supabase.co::sec-gpc",
        "value_code": "() => \"1\""
      },
      {
        "key": "vtnzhqawildiecaasapv.supabase.co::te",
        "value_code": "() => \"trailers\""
      },
      {
        "key": "vtnzhqawildiecaasapv.supabase.co::user-agent",
        "value_code": "() => \"Mozilla/5.0 (Macintosh; Kim Olson Jr. OS X 10.15; rv:143.0) Gecko/[BANK_ACCOUNT] Firefox/143.0\""
      },
      {
        "key": "vtnzhqawildiecaasapv.supabase.co::x-client-info",
        "value_code": "() => \"supabase-js-web/2.51.0\"}]</parameter name="
      }
    ],
    "dynamic_header_keys": [
      "vtnzhqawildiecaasapv.supabase.co::apikey",
      "vtnzhqawildiecaasapv.supabase.co::authorization"
    ],
    "dynamic_headers": [],
    "input_schema": {
      "type": "object",
      "description": "Input for querying featured spots from WOM Supabase.",
      "properties": {
        "select": {
          "type": "string",
          "description": "Fields to select (e.g., '*').",
          "example": "*"
        },
        "is_active": {
          "type": "string",
          "description": "Filter by active status (e.g., 'eq.true').",
          "example": "eq.true"
        },
        "or": {
          "type": "string",
          "description": "OR condition for featured_until and spot_position.",
          "example": "(featured_until.gt.2025-10-10T01:24:23.777Z,spot_position.is.null)"
        },
        "order": {
          "type": "string",
          "description": "Order by field (e.g., 'spot_position.asc').",
          "example": "spot_position.asc"
        },
        "featured_until": {
          "type": "string",
          "description": "Filter by featured until date (e.g., 'gt.2025-10-10T01:24:23.777Z').",
          "example": "gt.2025-10-10T01:24:23.777Z"
        },
        "spot_position": {
          "type": "string",
          "description": "Filter spot position (e.g., 'is.null').",
          "example": "is.null"
        }
      },
      "required": []
    },
    "test_inputs": {
      "select": "*",
      "is_active": "eq.true",
      "or": "(featured_until.gt.2025-10-10T01:24:23.777Z,spot_position.is.null)",
      "order": "spot_position.asc"
    },
    "include_tests": true,
    "dependency_order": []
  },
  "execution": {
    "statusCode": 200,
    "responseBody": [],
    "responseBodyPreview": "[]",
    "ok": true,
    "executedAt": "2025-10-10T05:24:19.471Z"
  },
  "dependencies": null,
  "schemas": {
    "input": {
      "type": "object",
      "description": "Input for querying featured spots from WOM Supabase.",
      "properties": {
        "select": {
          "type": "string",
          "description": "Fields to select (e.g., '*').",
          "example": "*"
        },
        "is_active": {
          "type": "string",
          "description": "Filter by active status (e.g., 'eq.true').",
          "example": "eq.true"
        },
        "or": {
          "type": "string",
          "description": "OR condition for featured_until and spot_position.",
          "example": "(featured_until.gt.2025-10-10T01:24:23.777Z,spot_position.is.null)"
        },
        "order": {
          "type": "string",
          "description": "Order by field (e.g., 'spot_position.asc').",
          "example": "spot_position.asc"
        },
        "featured_until": {
          "type": "string",
          "description": "Filter by featured until date (e.g., 'gt.2025-10-10T01:24:23.777Z').",
          "example": "gt.2025-10-10T01:24:23.777Z"
        },
        "spot_position": {
          "type": "string",
          "description": "Filter spot position (e.g., 'is.null').",
          "example": "is.null"
        }
      },
      "required": []
    },
    "output": {
      "type": "array"
    }
  },
  "masking": {
    "applied": true,
    "detections": [
      {
        "type": "FULL_NAME",
        "original": "Intel Mac",
        "replacement": "Kim Olson Jr.",
        "start": 1218,
        "end": 1227,
        "path": "wrapper_code"
      },
      {
        "type": "BANK_ACCOUNT",
        "original": "20100101",
        "replacement": "[BANK_ACCOUNT]",
        "start": 1256,
        "end": 1264,
        "path": "wrapper_code"
      },
      {
        "type": "FULL_NAME",
        "original": "Intel Mac",
        "replacement": "Kim Olson Jr.",
        "start": 31,
        "end": 40,
        "path": "static_headers.11.value_code"
      },
      {
        "type": "BANK_ACCOUNT",
        "original": "20100101",
        "replacement": "[BANK_ACCOUNT]",
        "start": 69,
        "end": 77,
        "path": "static_headers.11.value_code"
      }
    ]
  },
  "createdAt": "2025-10-10T05:24:19.474Z",
  "updatedAt": "2025-10-10T05:24:19.474Z"
}